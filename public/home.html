<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - NuksEdition</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="topbar">
        <div class="user-menu">
            <span id="userName" class="user-display">Olá, Usuário!</span>
            <div class="dropdown" id="userDropdown">
                <a href="/configuracoes">Configurações</a>
            </div>
        </div>
        <nav class="main-nav">
            <a href="/explorar">Explorar</a>
            <a href="#pesquisar">Pesquisar</a>
            <a href="/amigos">Amigo</a>
            <a href="/noticias">Notícias</a>
            <a href="/login" class="btn-logout">Sair</a>
        </nav>
    </header>
    <main class="content">
        <h2>Bem-vindo à sua página inicial!</h2>
        <p>Aqui você pode explorar, pesquisar, conversar com amigos e ver as últimas notícias.</p>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loggedUser = localStorage.getItem('loggedUser');
            if (!loggedUser) {
                alert('❌ Você precisa estar logado para acessar esta página.');
                window.location.href = '/login';
                return;
            }
            // Mostra o nome do usuário
            const userDisplay = document.getElementById('userName');
            const nomeSalvo = localStorage.getItem('nomeUsuario');
            if (nomeSalvo) {
                userDisplay.innerText = `Olá, ${nomeSalvo}!`;
            } else {
                userDisplay.innerText = 'Olá, Usuário!';
            }
            // Lógica do dropdown
            const dropdown = document.getElementById('userDropdown');
            userDisplay.addEventListener('click', function() {
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            });
            document.addEventListener('click', function(e) {
                if (!userDisplay.contains(e.target) && !dropdown.contains(e.target)) {
                    dropdown.style.display = 'none';
                }
            });
        });
    </script>
    <!-- ✅ ADICIONADO -->
    <script src="script.js"></script>
</body>
</html>
